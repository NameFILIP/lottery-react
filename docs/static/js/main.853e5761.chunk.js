(this["webpackJsonplottery-react"]=this["webpackJsonplottery-react"]||[]).push([[0],{215:function(e,t,n){},217:function(e,t,n){},229:function(e,t){},252:function(e,t){},254:function(e,t){},330:function(e,t){},332:function(e,t){},365:function(e,t){},370:function(e,t){},372:function(e,t){},379:function(e,t){},392:function(e,t){},410:function(e,t){},417:function(e,t){},419:function(e,t){},428:function(e,t){},430:function(e,t){},500:function(e,t,n){"use strict";n.r(t);var c=n(16),r=n.n(c),a=n(206),s=n.n(a),i=(n(215),n(15)),u=n.n(i),o=n(75),l=n(51),p=(n(217),n(207)),b=n.n(p);window.ethereum.request({method:"eth_requestAccounts"});var d=new b.a(window.ethereum),h=new d.eth.Contract([{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"enter",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"getPlayers",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"manager",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"pickWinner",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"players",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"}],"0x6A01d3578a1A804f9510daE5Be1a8A8e3CEF09f3"),f=n(11);var j=function(){var e=Object(c.useState)(""),t=Object(l.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)([]),s=Object(l.a)(a,2),i=s[0],p=s[1],b=Object(c.useState)(""),j=Object(l.a)(b,2),y=j[0],O=j[1],m=Object(c.useState)(""),x=Object(l.a)(m,2),v=x[0],w=x[1],g=Object(c.useState)(""),k=Object(l.a)(g,2),C=k[0],T=k[1];Object(c.useEffect)((function(){(function(){var e=Object(o.a)(u.a.mark((function e(){var t,n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.methods.manager().call();case 2:return t=e.sent,e.next=5,h.methods.getPlayers().call();case 5:return n=e.sent,e.next=8,d.eth.getBalance(h.options.address);case 8:c=e.sent,r(t),p(n),O(c);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var A=Object(c.useCallback)(function(){var e=Object(o.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,d.eth.getAccounts();case 3:return n=e.sent,T("Waiting on transaction success..."),e.next=7,h.methods.enter().send({from:n[0],value:d.utils.toWei(v,"ether")});case 7:T("You have been entered");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[v]),S=Object(c.useCallback)(Object(o.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.eth.getAccounts();case 2:return t=e.sent,T("Waiting on transaction success..."),e.next=6,h.methods.pickWinner().send({from:t[0]});case 6:T("A winner has been picked!");case 7:case"end":return e.stop()}}),e)}))),[]);return Object(f.jsxs)("div",{children:[Object(f.jsx)("h2",{children:"Lottery Contract"}),Object(f.jsxs)("p",{children:["This contract is managed by: ",n,"."]}),Object(f.jsxs)("p",{children:["There are currently ",i.length," people entered the lottery competing to win ",d.utils.fromWei(y,"ether")," ether!"]}),Object(f.jsx)("hr",{}),Object(f.jsxs)("form",{onSubmit:A,children:[Object(f.jsx)("h4",{children:"Want to try your luck?"}),Object(f.jsxs)("div",{children:[Object(f.jsx)("label",{children:"Amount of ether to enter"}),Object(f.jsx)("input",{value:v,onChange:function(e){return w(e.currentTarget.value)}}),Object(f.jsx)("button",{children:"Enter"})]})]}),Object(f.jsx)("hr",{}),Object(f.jsx)("h4",{children:"Ready to pick a winner?"}),Object(f.jsx)("button",{onClick:S,children:"Pick a winner!"}),Object(f.jsx)("hr",{}),Object(f.jsx)("h1",{children:C})]})},y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,504)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),c(e),r(e),a(e),s(e)}))};s.a.render(Object(f.jsx)(r.a.StrictMode,{children:Object(f.jsx)(j,{})}),document.getElementById("root")),y()}},[[500,1,2]]]);
//# sourceMappingURL=main.853e5761.chunk.js.map